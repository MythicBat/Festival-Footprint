/* ---------- Base ---------- */
:root {
  --bg1: #f6f8ff;
  --bg2: #eef2ff;
  --bg3: #eaf6ff;
  --ink: #0d1440;
  --card: #ffffff;
}

html,body{height: 100%;}

body {
  margin: 0;
  color: #222;
  font-family: Inter, Segoe UI, Roboto, Arial, sans-serif;

  /* Layered radial gradient for depth */
  background:
    radial-gradient(1200px 800px at 10% -10%, #e9f2ff 0%, transparent 55%),
    radial-gradient(900px 600px at 110% 0%, #f3e9ff 0%, transparent 55%),
    radial-gradient(600px 400px at 0% 100%, #e7fff7 0%, transparent 60%),
    linear-gradient(180deg, var(--bg1) 0%, var(--bg2) 60%, var(--bg3) 100%);
  
  /* Subtle noise for print-like finish*/
  position: relative;
  overflow-x: hidden;
}

body::after {
  content: "";
  position: fixed; inset: 0;
  pointer-events: none;
  background-image: url('data:image/svg+xml;utf8,\
  <svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160" opacity=".04">\
  <filter id="n"><feTurbulence type="fractalNoise" baseFrequency=".8" numOctaves="2" stitchTiles="stitch"/></filter>\
  <rect width="100%" height="100%" filter="url(%23n)" /></svg>');
  background-size: 240px 240px;
}

/* ---------- Header ---------- */
.wrap{max-width:1200px; margin:0 auto; padding:0 16px}
h1{margin:28px 0 6px; font-size:26px; color:var(--accent); font-weight:700; text-align:center}
.subtitle{margin:0 0 22px; color:var(--muted); text-align:center; font-size:15px}

/* ---------- Grid ---------- */
/* A single grid system used for every row */
.grid{
  display:grid;
  /* Each item gets at least 420px; grid auto-fits as many columns as possible */
  grid-template-columns: repeat(auto-fit, minmax(420px, 1fr));
  gap:28px;
  margin:28px 0;
  justify-items:center;   /* center items when fewer columns fit */
  align-items:start;
}

/* Make elements that should span the whole row */
.col-2{grid-column:1 / -1}

/* ---------- Cards (chart containers) ---------- */
.chart {
  background: var(--card);
  border-radius: 16px;
  box-shadow: 0 10px 24px rgba(17, 24, 39, .06);
  transition: transform .35s cubic-bezier(.2, .8, .2, 1);
}

.chart:hover {
  transform: translateY(-4px);
  box-shadow: 0 18px 36px rgba(17,24,39,.10);
}

/* Map + overlay should be wider; still responsive + centered */
.chart.wide{
  width: clamp(700px, 90vw, 900px);
  margin: 0 auto;
}

/* Radial sits centered at a comfortable width */
.chart.center{
  width: clamp(360px, 42vw, 460px);
  justify-self:center;
}

/* Headings inside cards */
.chart h2{margin:6px 0 10px; font-size:18px; color:var(--accent); text-align:left}

/* ---------- Insights ---------- */
.insights{
  background:#f3f6fa; border-radius:12px; padding:20px;
  max-width:900px; margin:34px auto 20px; text-align:left;
  box-shadow:0 2px 10px rgba(0,0,0,.05)
}
.insights h2{margin:0 0 10px; font-size:18px; color:var(--accent)}
.insights ul{margin:0; padding-left:20px; line-height:1.6; color:#333}

/* ---------- Footer ---------- */
.footer{margin:40px auto 30px; text-align:center; color:#777; font-size:13px}

/* ---------- Small screens ---------- */
@media (max-width: 480px){
  .grid{grid-template-columns:1fr}
  .chart{width: 100%}
  .chart.wide{width: 100%}
}

/* Short, clean annotations */
.note {
  margin: 10px 8px 4px;
  padding: 10px 12px;
  background: #f7f9fc;
  border: 1px solid #e6ecf5;
  border-radius: 10px;
  color: #243b53;
  font-size: 14px;
  line-height: 1.45;
  text-align: left;
}

.note strong{color: #0f2a6b;}
.note em{font-style: normal; color: #1f6feb;}

/* Two-column layout for pie + side note */
.grid-2 {
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: stretch;
  justify-content: center;
  gap: 24px;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
}

@keyframes fadeInUp {
  0% {opacity: 0; transform: translateY(16px);}
  100% {opacity: 1; transform: translateY(0);}
}

.reveal {
  opacity: 0;
  transform: translateY(16px);
}

.reveal.show {
  animation: fadeInUp .6s cubic-bezier(.2, .8, .2, 1) forwards;
}

/* stagger helpers */
.delay-1 {animation-delay: .06s}
.delay-2 {animation-delay: .12s}
.delay-3 {animation-delay: .18s}
.delay-4 {animation-delay: .24s}